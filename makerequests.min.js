function MakeRequests(e){"use strict";var t,n,o,l,r,a,i,s,m,c,u,d,p,f,b,g,h,v,T,x,k,y,C,N,E,M,S=e.buttonClassName,w=e.putMeHereClassName,L=e.beta||e.all,H=e.chisquare||e.all,B=e.exp||e.all,q=e.normal||e.all,R=e.studentT||e.all,A=e.uni||e.all,F=e.linear||e.all,I=e.step||e.all,P=e.graph,j=e.generateGoFile,V=e.mapUrl,D=function(){t[Math.floor(3*Math.random())].click()},U=function(e){t[e.buttonNum].click()};i=function(){var e=$("form.form-inline").serializeArray(),t={};return $(e).each(function(e,n){""===n.value?t[n.name]="0":t[n.name]=n.value}),t},s=function(){var e=document.createElement("style");e.innerHTML=".putMeHere {background:#ffe6b3} .distr-button { background:#ffcc66; border-color:#ffaa00; } .distr-button:focus, .distr-button:hover { background:#ffc34d; border-color:#ffaa00; outline: none !important; box-shadow: none;} .fire-btn{background:#ffaa00; border-color:#e69900;} .fire-btn:focus, .fire-btn:hover {background:#e69900; border-color:#e69900; outline: none !important; box-shadow: none;} .align-left {text-align: left;} .info-distr{ color:red; margin-left: 15px; margin-right: 15px;} .choose-btn{ margin-left: 15px !important} .goToggleButton{ background:#ffc34d; border-color:#ffc34d}   .goToggleButton:not(:disabled):not(.disabled).active, .goToggleButton:not(:disabled):not(.disabled):active, .show>.goToggleButton.dropdown-toggle, .goToggleButton:focus, .goToggleButton:hover {background:#e69900;  border-color:#e69900; outline: none !important; box-shadow: none;}",document.body.appendChild(e)},m=function(e){var t;return(t=document.createElement("button")).type="button",t.className="btn btn-primary ml-2 mb-2 distr-button",t.textContent=e,t},c=function(e){var t,n,o,l,r=i(),a=[],s=0,m=0;switch(e){case"normal":for(s=0;s<r.numClick;s+=1)a.push(jStat.normal.sample(r.mean,r.stdev));return a;case"beta":for(s=0;s<r.numClick;s+=1)a.push(jStat.beta.sample(r.alpha,r.beta));return a;case"chisquare":for(s=0;s<r.numClick;s+=1)a.push(jStat.chisquare.sample(r.dof));return a;case"exp":for(s=0;s<r.numClick;s+=1)a.push(jStat.exponential.sample(r.rate));return a;case"uni":for(s=0;s<r.numClick;s+=1)a.push(jStat.uniform.sample(r.a,r.b));return a;case"studentT":for(s=0;s<r.numClick;s+=1)a.push(jStat.studentt.sample(r.dof));return a;case"linear":for(t=0,o=parseFloat(r.time)/parseFloat(r.step),s=0;s<=r.time;s+=o){for(m=0;m<t;m+=1)a.push(s);t+=parseInt(r.slope,10)}return a;case"step":for(o=Math.round(100/r.step),l=100*parseFloat(r.ratio),n=0;n<r.rep;n+=1){for(s=0;s<l;s+=o)for(m=0;m<r.highValue;m+=1)a.push(s+100*n);for(s=l;s<100;s+=o)for(m=0;m<r.lowValue;m+=1)a.push(s+100*n)}return a;default:return a=[]}},u=function(){var e,n,o=i(),l=0,r=o.numClick;if(j)(n=[]).length=r,n.fill(0),e="package main\n\nfunc main() {\n\ttimes := []float64{"+n.toString()+'}\n\tmakeRequests(times,"'+V[t[o.buttonNum].getAttribute("url-key")]+'")\n}',g("makeRequestsTimes.go",e);else if(parseInt(o.buttonNum,10)===t.length)for(l=0;l<r;l+=1)D();else for(l=0;l<r;l+=1)U(o);$(this).blur()},d=function(e,t){var n,o,l,r,a={},i=[],s=[],m=[];e.forEach(function(e){a[e]=(a[e]||0)+1});for(n in a)a.hasOwnProperty(n)&&s.push(n);for(s.sort(function(e,t){return e-t}),o=0;o<s.length;o+=1)i.push(s[o]/1e3),m.push(a[s[o]]);l=[{x:i,y:m,marker:{color:"rgba(255, 170, 0, 1)"},name:"Continue time",mode:"markers"},"linear"===t||"step"===t?{x:i,y:m,mode:"lines",marker:{color:"rgba(255, 195, 77, 1)"},name:"Scatter",type:"scatter"}:{x:i,opacity:.75,marker:{color:"rgba(255, 195, 77, 0.7)",line:{color:"rgba(255, 195, 77, 1)",width:1}},name:"Discrete time",type:"histogram"}],r={bargap:.05,bargroupgap:.05,barmode:"overlay",title:"Requests over Time",xaxis:{title:"Time"},yaxis:{title:"Count"}},Plotly.newPlot("graph",l,r)},p=function(e){var n,o,l,r=i(),a=c(e),s=0;for(a.sort(function(e,t){return e-t}),n=a[0],a[0]=0,s=1;s<a.length;s+=1)a[s]=a[s]-n;for(o=1e3*parseFloat(r.time)/a[a.length-1],s=1;s<a.length;s+=1)a[s]*=o;if(P&&d(a,e),j)l="package main\n\nfunc main() {\n\ttimes := []float64{"+a.toString()+'}\n\tmakeRequests(times,"'+V[t[r.buttonNum].getAttribute("url-key")]+'")\n}',g("makeRequestsTimes.go",l);else if(parseInt(r.buttonNum,10)===t.length)for(s=0;s<a.length;s+=1)setTimeout(D(),a[s]);else for(s=0;s<a.length;s+=1)setTimeout(U(r),a[s])},v=function(){var e,t;(e=document.createElement("button")).type="button",e.className="btn btn-secondary choose-btn ml-2 mb-2",e.textContent="Back",e.onclick=function(){f(),document.getElementById("numClickText").removeAttribute("disabled")},l.appendChild(e),(t=document.createElement("div")).className="row",t.id="graph",n.appendChild(t)},T=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Normal distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='meanText'>Mean:&nbsp</label><input type='number' class='form-control mr-sm-2' id='meanText' name='mean'/></div><div class='form-group'><label for='stdevText'>Standard Deviation:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stdevText' name='stdev'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("normal")},v()},x=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Beta distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='alphaText'>Parameter alpha:&nbsp</label><input type='number' class='form-control mr-sm-2' id='alphaText' name='alpha'/></div><div class='form-group'><label for='betaText'>Parameter beta:&nbsp</label><input type='number' class='form-control mr-sm-2' id='betaText' name='beta'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("beta")},v()},k=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Chi Square distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("chisquare")},v()},y=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Exponential distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='rateText'>Rate:&nbsp</label><input type='number' class='form-control mr-sm-2' id='rateText' name='rate'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("exp")},v()},C=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Uniform distribution</h5><p class='info-distr'>Parameters 'a' and 'b' are the initial and final point of the uniform sampling interval</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='aText'>Parameter a:&nbsp</label><input type='number' class='form-control mr-sm-2' id='aText' name='a'/></div><div class='form-group'><label for='bText'>Parameter b:&nbsp</label><input type='number' class='form-control mr-sm-2' id='bText' name='b'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("uni")},v()},N=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>T-Student distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("studentT")},v()},E=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Linear growth</h5><p class='info-distr'>'Number of requests' parameter determined automatically for 'Linear growth'</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='slopeText'>Slope:&nbsp</label><input type='number' class='form-control mr-sm-2' id='slopeText' name='slope'/></div><div class='form-group'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",document.getElementById("numClickText").setAttribute("disabled",""),a.onclick=function(){p("linear")},v()},M=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Step function</h5><p class='info-distr'>'Number of requests' parameter determined automatically. 'Time interval' defines the entire duration. 'Number of steps' refers to a single repetition and it is rounded w.r.t the inserted 'Ratio'. </p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='lowText'>Low value:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0' id='lowText' name='lowValue'/></div><div class='form-group'><label for='highText'>High value:&nbsp</label><input type='number' class='form-control mr-sm-2' id='highText' name='highValue'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div><div class='form-group mt-2'><label for='ratioText'>Ratio:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0 to 1 value' id='ratioText' placeholder='timeHigh/timeLow' name='ratio'/></div><div class='form-group mt-2'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group mt-2'><label for='repetitionsText'>Repetitions:&nbsp</label><input type='number' class='form-control mr-sm-2' id='repetitionsText' name='rep'/></div></form>",document.getElementById("numClickText").setAttribute("disabled",""),a.onclick=function(){p("step")},v()},f=function(){var e;l.innerHTML="",q&&((e=m("Normal")).onclick=function(){T()},l.appendChild(e)),L&&((e=m("Beta")).onclick=function(){x()},l.appendChild(e)),H&&((e=m("Chi Square")).onclick=function(){k()},l.appendChild(e)),B&&((e=m("Exponential")).onclick=function(){y()},l.appendChild(e)),A&&((e=m("Uniform")).onclick=function(){C()},l.appendChild(e)),R&&((e=m("T-Student")).onclick=function(){N()},l.appendChild(e)),F&&((e=m("Linear")).onclick=function(){E()},l.appendChild(e)),I&&((e=m("Step Function")).onclick=function(){M()},l.appendChild(e))},b=function(){var e,l,s,m,c,d=document.createElement("form"),p=document.createElement("form");for(d.className="form-inline col-md-12 col-sm-6 mt-2",e="<div class='form-group'><label for='numClickText'>Number of requests:&nbsp</label><input type='number' class='form-control mr-sm-2' id='numClickText' name='numClick'/></div><div class='form-group'><label for='buttonsSelect'>Button(s):&nbsp</label><div class='input-group mr-sm-2'><select class='custom-select mr-sm-2' id='buttonsSelect' name='buttonNum'>",c=0;c<t.length;c+=1)e+="<option value='"+c+"'>"+t[c].firstChild.nodeValue+"</option>";j||(e+="<option selected value='"+t.length+"'>Random</option>"),d.innerHTML=e+"</select></div></div>",(a=document.createElement("button")).className="btn btn-info fire-btn ml-4",a.type="button",a.textContent="Fire!",a.onclick=u,j&&(m=h(),d.appendChild(m)),d.appendChild(a),o.appendChild(d),n.appendChild(o),p.className="form-inline col-md-12 col-sm-6 mt-2",l="<div class='form-group'><label for='seedText'>Seed:&nbsp</label><input type='text' class='form-control mr-sm-2' id='seedText' name='seed'/></div><label id='currentSeed'><i>No seed currently set</i></label>",p.innerHTML=l,(s=document.createElement("button")).className="btn btn-info fire-btn ml-2",s.type="button",s.textContent="Set seed",s.onclick=function(){var e=i().seed;0!==e&&(Math.seedrandom(e),document.getElementById("currentSeed").innerHTML="Seed:<i>&nbsp"+e+"</i>"),$(this).blur()},p.appendChild(s),r.appendChild(p)},h=function(){var e,t,n;return(e=document.createElement("div")).className="btn-group btn-group-toggle",e.setAttribute("data-toggle","buttons"),(t=document.createElement("label")).className="btn btn-secondary active goToggleButton",t.onclick=function(){j=!0},t.innerHTML="<input type='radio' name='options' autocomplete='off'>.go",(n=document.createElement("label")).className="btn btn-secondary goToggleButton",n.onclick=function(){j=!1},n.innerHTML="<input type='radio' name='options' autocomplete='off'>click()</label>",e.appendChild(t),e.appendChild(n),e},g=function(e,t){var n,o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),document.createEvent?((n=document.createEvent("MouseEvents")).initEvent("click",!0,!0),o.dispatchEvent(n)):o.click()},this.build=function(){s(),t=document.getElementsByClassName(S),(n=document.getElementsByClassName(w)[0]).innerHTML="",(o=document.createElement("div")).className="row",(r=document.createElement("div")).className="row",b(),n.appendChild(o),n.appendChild(r),(l=document.createElement("div")).className="row",n.appendChild(l),f()}}