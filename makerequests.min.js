function MakeRequests(e){"use strict";var t,n,o,r,l,a,i,s,m,c,u,p,d,f,b,h,v,g,T,x,y,k,C=e.buttonClassName,N=e.putMeHereClassName,M=e.beta||e.all,w=e.chisquare||e.all,L=e.exp||e.all,S=e.normal||e.all,H=e.studentT||e.all,E=e.uni||e.all,q=e.linear||e.all,F=e.step||e.all,P=e.graph,R=function(){t[Math.floor(3*Math.random())].click()},j=function(e){t[e.buttonNum].click()};a=function(){var e=$("form.form-inline").serializeArray(),t={};return $(e).each(function(e,n){""===n.value?t[n.name]="0":t[n.name]=n.value}),t},i=function(){var e=document.createElement("style");e.innerHTML=".putMeHere {background:#ffe6b3} .distr-button { background:#ffcc66; border-color:#ffaa00; } .distr-button:focus, .distr-button:hover { background:#ffc34d; border-color:#ffaa00; outline: none !important; box-shadow: none;} .fire-btn{background:#ffaa00; border-color:#e69900;} .fire-btn:focus, .fire-btn:hover {background:#e69900; border-color:#e69900; outline: none !important; box-shadow: none;} .align-left {text-align: left;} .info-distr{ color:red; margin-left: 15px; margin-right: 15px;} .choose-btn{ margin-left: 15px !important}",document.body.appendChild(e)},s=function(e){var t;return(t=document.createElement("button")).type="button",t.className="btn btn-primary ml-2 mb-2 distr-button",t.textContent=e,t},m=function(e){var t,n,o,r,l=a(),i=[],s=0,m=0;switch(e){case"normal":for(s=0;s<l.numClick;s+=1)i.push(jStat.normal.sample(l.mean,l.stdev));return i;case"beta":for(s=0;s<l.numClick;s+=1)i.push(jStat.beta.sample(l.alpha,l.beta));return i;case"chisquare":for(s=0;s<l.numClick;s+=1)i.push(jStat.chisquare.sample(l.dof));return i;case"exp":for(s=0;s<l.numClick;s+=1)i.push(jStat.exponential.sample(l.rate));return i;case"uni":for(s=0;s<l.numClick;s+=1)i.push(jStat.uniform.sample(l.a,l.b));return i;case"studentT":for(s=0;s<l.numClick;s+=1)i.push(jStat.studentt.sample(l.dof));return i;case"linear":for(t=0,o=parseFloat(l.time)/parseFloat(l.step),s=0;s<=l.time;s+=o){for(m=0;m<t;m+=1)i.push(s);t+=parseInt(l.slope,10)}return i;case"step":for(o=Math.round(100/l.step),r=100*parseFloat(l.ratio),n=0;n<l.rep;n+=1){for(s=0;s<r;s+=o)for(m=0;m<l.highValue;m+=1)i.push(s+100*n);for(s=r;s<100;s+=o)for(m=0;m<l.lowValue;m+=1)i.push(s+100*n)}return i;default:return i=[]}},c=function(){var e=a(),n=0;if(parseInt(e.buttonNum,10)===t.length)for(n=0;n<e.numClick;n+=1)R();else for(n=0;n<e.numClick;n+=1)j(e)},u=function(e,t){var n,o,r,l,a={},i=[],s=[],m=[];e.forEach(function(e){a[e]=(a[e]||0)+1});for(n in a)a.hasOwnProperty(n)&&s.push(n);for(s.sort(function(e,t){return e-t}),o=0;o<s.length;o+=1)i.push(s[o]/1e3),m.push(a[s[o]]);r=[{x:i,y:m,marker:{color:"rgba(255, 170, 0, 1)"},name:"Continue time",mode:"markers"},"linear"===t||"step"===t?{x:i,y:m,mode:"lines",marker:{color:"rgba(255, 195, 77, 1)"},name:"Scatter",type:"scatter"}:{x:i,opacity:.75,marker:{color:"rgba(255, 195, 77, 0.7)",line:{color:"rgba(255, 195, 77, 1)",width:1}},name:"Discrete time",type:"histogram"}],l={bargap:.05,bargroupgap:.05,barmode:"overlay",title:"Requests over Time",xaxis:{title:"Time"},yaxis:{title:"Count"}},Plotly.newPlot("graph",r,l)},p=function(e){var n,o,r=a(),l=m(e),i=0;for(l.sort(function(e,t){return e-t}),n=l[0],l[0]=0,i=1;i<l.length;i+=1)l[i]=l[i]-n;for(o=1e3*parseFloat(r.time)/l[l.length-1],i=1;i<l.length;i+=1)l[i]*=o;if(P&&u(l,e),parseInt(r.buttonNum,10)===t.length)for(i=0;i<l.length;i+=1)setTimeout(R,l[i]);else for(i=0;i<l.length;i+=1)setTimeout(j(r),l[i])},f=function(){var e,t;(e=document.createElement("button")).type="button",e.className="btn btn-secondary choose-btn ml-2 mb-2",e.textContent="Back",e.onclick=function(){d()},r.appendChild(e),(t=document.createElement("div")).className="row",t.id="graph",n.appendChild(t)},b=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Normal distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='meanText'>Mean:&nbsp</label><input type='number' class='form-control mr-sm-2' id='meanText' name='mean'/></div><div class='form-group'><label for='stdevText'>Standard Deviation:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stdevText' name='stdev'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("normal")},f()},h=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Beta distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='alphaText'>Parameter alpha:&nbsp</label><input type='number' class='form-control mr-sm-2' id='alphaText' name='alpha'/></div><div class='form-group'><label for='betaText'>Parameter beta:&nbsp</label><input type='number' class='form-control mr-sm-2' id='betaText' name='beta'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("beta")},f()},v=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Chi Square distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("chisquare")},f()},g=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Exponential distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='rateText'>Rate:&nbsp</label><input type='number' class='form-control mr-sm-2' id='rateText' name='rate'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("exp")},f()},T=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Uniform distribution</h5><p class='info-distr'>Parameters 'a' and 'b' are the initial and final point of the uniform sampling interval</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='aText'>Parameter a:&nbsp</label><input type='number' class='form-control mr-sm-2' id='aText' name='a'/></div><div class='form-group'><label for='bText'>Parameter b:&nbsp</label><input type='number' class='form-control mr-sm-2' id='bText' name='b'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("uni")},f()},x=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>T-Student distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("studentT")},f()},y=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Linear growth</h5><p class='info-distr'>'Number of requests' parameter determined automatically for 'Linear growth'</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='slopeText'>Slope:&nbsp</label><input type='number' class='form-control mr-sm-2' id='slopeText' name='slope'/></div><div class='form-group'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",l.onclick=function(){p("linear")},f()},k=function(){r.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Step function</h5><p class='info-distr'>'Number of requests' parameter determined automatically. 'Time interval' defines the entire duration. 'Number of steps' refers to a single repetition and it is rounded w.r.t the inserted 'Ratio'. </p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='lowText'>Low value:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0' id='lowText' name='lowValue'/></div><div class='form-group'><label for='highText'>High value:&nbsp</label><input type='number' class='form-control mr-sm-2' id='highText' name='highValue'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div><div class='form-group mt-2'><label for='ratioText'>Ratio:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0 to 1 value' id='ratioText' placeholder='timeHigh/timeLow' name='ratio'/></div><div class='form-group mt-2'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group mt-2'><label for='repetitionsText'>Repetitions:&nbsp</label><input type='number' class='form-control mr-sm-2' id='repetitionsText' name='rep'/></div></form>",l.onclick=function(){p("step")},f()},d=function(){var e;r.innerHTML="",S&&((e=s("Normal")).onclick=function(){b()},r.appendChild(e)),M&&((e=s("Beta")).onclick=function(){h()},r.appendChild(e)),w&&((e=s("Chi Square")).onclick=function(){v()},r.appendChild(e)),L&&((e=s("Exponential")).onclick=function(){g()},r.appendChild(e)),E&&((e=s("Uniform")).onclick=function(){T()},r.appendChild(e)),H&&((e=s("T-Student")).onclick=function(){x()},r.appendChild(e)),q&&((e=s("Linear")).onclick=function(){y()},r.appendChild(e)),F&&((e=s("Step Function")).onclick=function(){k()},r.appendChild(e))},this.build=function(){i(),t=document.getElementsByClassName(C),n=document.getElementsByClassName(N)[0],o=document.createElement("div"),n.innerHTML="",o.className="row";var e,a,s=document.createElement("form");for(s.className="form-inline col-md-12 col-sm-6 mt-2",e="<div class='form-group'><label for='numClickText'>Number of requests:&nbsp</label><input type='number' class='form-control mr-sm-2' id='numClickText' name='numClick'/></div><div class='form-group'><label for='buttonsSelect'>Button(s):&nbsp</label><div class='input-group mr-sm-2'><select class='custom-select mr-sm-2' id='buttonsSelect' name='buttonNum'>",a=0;a<t.length;a+=1)e+="<option value='"+a+"'>"+t[a].firstChild.nodeValue+"</option>";e+="<option selected value='"+t.length+"'>Random</option>",s.innerHTML=e+"</select></div></div>",(l=document.createElement("button")).className="btn btn-info fire-btn ml-2",l.type="button",l.textContent="Fire!",l.onclick=c,s.appendChild(l),o.appendChild(s),n.appendChild(o),(r=document.createElement("div")).className="row",n.appendChild(r),d()}}