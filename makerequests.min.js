function MakeRequests(e){"use strict";var t,n,o,l,r,a,i,m,s,c,u,d,p,f,b,h,v,g,T,x,k,y,C,N,E,S=e.buttonClassName,M=e.putMeHereClassName,w=e.beta||e.all,L=e.chisquare||e.all,H=e.exp||e.all,q=e.normal||e.all,R=e.studentT||e.all,B=e.uni||e.all,F=e.linear||e.all,A=e.step||e.all,I=e.graph,P=e.generateGoFile,j=e.mapUrl,V=function(){t[Math.floor(3*Math.random())].click()},D=function(e){t[e.buttonNum].click()};i=function(){var e=$("form.form-inline").serializeArray(),t={};return $(e).each(function(e,n){""===n.value?t[n.name]="0":t[n.name]=n.value}),t},m=function(){var e=document.createElement("style");e.innerHTML=".putMeHere {background:#ffe6b3} .distr-button { background:#ffcc66; border-color:#ffaa00; } .distr-button:focus, .distr-button:hover { background:#ffc34d; border-color:#ffaa00; outline: none !important; box-shadow: none;} .fire-btn{background:#ffaa00; border-color:#e69900;} .fire-btn:focus, .fire-btn:hover {background:#e69900; border-color:#e69900; outline: none !important; box-shadow: none;} .align-left {text-align: left;} .info-distr{ color:red; margin-left: 15px; margin-right: 15px;} .choose-btn{ margin-left: 15px !important}",document.body.appendChild(e)},s=function(e){var t;return(t=document.createElement("button")).type="button",t.className="btn btn-primary ml-2 mb-2 distr-button",t.textContent=e,t},c=function(e){var t,n,o,l,r=i(),a=[],m=0,s=0;switch(e){case"normal":for(m=0;m<r.numClick;m+=1)a.push(jStat.normal.sample(r.mean,r.stdev));return a;case"beta":for(m=0;m<r.numClick;m+=1)a.push(jStat.beta.sample(r.alpha,r.beta));return a;case"chisquare":for(m=0;m<r.numClick;m+=1)a.push(jStat.chisquare.sample(r.dof));return a;case"exp":for(m=0;m<r.numClick;m+=1)a.push(jStat.exponential.sample(r.rate));return a;case"uni":for(m=0;m<r.numClick;m+=1)a.push(jStat.uniform.sample(r.a,r.b));return a;case"studentT":for(m=0;m<r.numClick;m+=1)a.push(jStat.studentt.sample(r.dof));return a;case"linear":for(t=0,o=parseFloat(r.time)/parseFloat(r.step),m=0;m<=r.time;m+=o){for(s=0;s<t;s+=1)a.push(m);t+=parseInt(r.slope,10)}return a;case"step":for(o=Math.round(100/r.step),l=100*parseFloat(r.ratio),n=0;n<r.rep;n+=1){for(m=0;m<l;m+=o)for(s=0;s<r.highValue;s+=1)a.push(m+100*n);for(m=l;m<100;m+=o)for(s=0;s<r.lowValue;s+=1)a.push(m+100*n)}return a;default:return a=[]}},u=function(){var e,n,o=i(),l=0,r=o.numClick;if(P)(n=[]).length=r,n.fill(0),e="package main\n\nfunc main() {\n\ttimes := []float64{"+n.toString()+'}\n\tmakeRequests(times,"'+j[t[o.buttonNum].getAttribute("url-key")]+'")\n}',h("makeRequestsTimes.go",e);else if(parseInt(o.buttonNum,10)===t.length)for(l=0;l<r;l+=1)V();else for(l=0;l<r;l+=1)D(o)},d=function(e,t){var n,o,l,r,a={},i=[],m=[],s=[];e.forEach(function(e){a[e]=(a[e]||0)+1});for(n in a)a.hasOwnProperty(n)&&m.push(n);for(m.sort(function(e,t){return e-t}),o=0;o<m.length;o+=1)i.push(m[o]/1e3),s.push(a[m[o]]);l=[{x:i,y:s,marker:{color:"rgba(255, 170, 0, 1)"},name:"Continue time",mode:"markers"},"linear"===t||"step"===t?{x:i,y:s,mode:"lines",marker:{color:"rgba(255, 195, 77, 1)"},name:"Scatter",type:"scatter"}:{x:i,opacity:.75,marker:{color:"rgba(255, 195, 77, 0.7)",line:{color:"rgba(255, 195, 77, 1)",width:1}},name:"Discrete time",type:"histogram"}],r={bargap:.05,bargroupgap:.05,barmode:"overlay",title:"Requests over Time",xaxis:{title:"Time"},yaxis:{title:"Count"}},Plotly.newPlot("graph",l,r)},p=function(e){var n,o,l,r=i(),a=c(e),m=0;for(a.sort(function(e,t){return e-t}),n=a[0],a[0]=0,m=1;m<a.length;m+=1)a[m]=a[m]-n;for(o=1e3*parseFloat(r.time)/a[a.length-1],m=1;m<a.length;m+=1)a[m]*=o;if(I&&d(a,e),P)l="package main\n\nfunc main() {\n\ttimes := []float64{"+a.toString()+'}\n\tmakeRequests(times,"'+j[t[r.buttonNum].getAttribute("url-key")]+'")\n}',h("makeRequestsTimes.go",l);else if(parseInt(r.buttonNum,10)===t.length)for(m=0;m<a.length;m+=1)setTimeout(V(),a[m]);else for(m=0;m<a.length;m+=1)setTimeout(D(r),a[m])},v=function(){var e,t;(e=document.createElement("button")).type="button",e.className="btn btn-secondary choose-btn ml-2 mb-2",e.textContent="Back",e.onclick=function(){f(),document.getElementById("numClickText").removeAttribute("disabled")},l.appendChild(e),(t=document.createElement("div")).className="row",t.id="graph",n.appendChild(t)},g=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Normal distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='meanText'>Mean:&nbsp</label><input type='number' class='form-control mr-sm-2' id='meanText' name='mean'/></div><div class='form-group'><label for='stdevText'>Standard Deviation:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stdevText' name='stdev'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("normal")},v()},T=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Beta distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='alphaText'>Parameter alpha:&nbsp</label><input type='number' class='form-control mr-sm-2' id='alphaText' name='alpha'/></div><div class='form-group'><label for='betaText'>Parameter beta:&nbsp</label><input type='number' class='form-control mr-sm-2' id='betaText' name='beta'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("beta")},v()},x=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Chi Square distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("chisquare")},v()},k=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Exponential distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='rateText'>Rate:&nbsp</label><input type='number' class='form-control mr-sm-2' id='rateText' name='rate'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("exp")},v()},y=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Uniform distribution</h5><p class='info-distr'>Parameters 'a' and 'b' are the initial and final point of the uniform sampling interval</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='aText'>Parameter a:&nbsp</label><input type='number' class='form-control mr-sm-2' id='aText' name='a'/></div><div class='form-group'><label for='bText'>Parameter b:&nbsp</label><input type='number' class='form-control mr-sm-2' id='bText' name='b'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("uni")},v()},C=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>T-Student distribution</h5><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='dofText'>Degrees of Freedom:&nbsp</label><input type='number' class='form-control mr-sm-2' id='dofText' name='dof'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",a.onclick=function(){p("studentT")},v()},N=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Linear growth</h5><p class='info-distr'>'Number of requests' parameter determined automatically for 'Linear growth'</p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='slopeText'>Slope:&nbsp</label><input type='number' class='form-control mr-sm-2' id='slopeText' name='slope'/></div><div class='form-group'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div></form>",document.getElementById("numClickText").setAttribute("disabled",""),a.onclick=function(){p("linear")},v()},E=function(){l.innerHTML="<h5 class='col-md-3 col-sm-6 align-left'>Step function</h5><p class='info-distr'>'Number of requests' parameter determined automatically. 'Time interval' defines the entire duration. 'Number of steps' refers to a single repetition and it is rounded w.r.t the inserted 'Ratio'. </p><form class='form-inline col-md-12 col-sm-6 mt-2'><div class='form-group'><label for='lowText'>Low value:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0' id='lowText' name='lowValue'/></div><div class='form-group'><label for='highText'>High value:&nbsp</label><input type='number' class='form-control mr-sm-2' id='highText' name='highValue'/></div><div class='form-group'><label for='timeText'>Time interval:&nbsp</label><input type='number' placeholder='in seconds' class='form-control mr-sm-2' id='timeText' name='time'/></div><div class='form-group mt-2'><label for='ratioText'>Ratio:&nbsp</label><input type='number' class='form-control mr-sm-2' placeholder='0 to 1 value' id='ratioText' placeholder='timeHigh/timeLow' name='ratio'/></div><div class='form-group mt-2'><label for='stepText'>Number of steps:&nbsp</label><input type='number' class='form-control mr-sm-2' id='stepText' name='step'/></div><div class='form-group mt-2'><label for='repetitionsText'>Repetitions:&nbsp</label><input type='number' class='form-control mr-sm-2' id='repetitionsText' name='rep'/></div></form>",document.getElementById("numClickText").setAttribute("disabled",""),a.onclick=function(){p("step")},v()},f=function(){var e;l.innerHTML="",q&&((e=s("Normal")).onclick=function(){g()},l.appendChild(e)),w&&((e=s("Beta")).onclick=function(){T()},l.appendChild(e)),L&&((e=s("Chi Square")).onclick=function(){x()},l.appendChild(e)),H&&((e=s("Exponential")).onclick=function(){k()},l.appendChild(e)),B&&((e=s("Uniform")).onclick=function(){y()},l.appendChild(e)),R&&((e=s("T-Student")).onclick=function(){C()},l.appendChild(e)),F&&((e=s("Linear")).onclick=function(){N()},l.appendChild(e)),A&&((e=s("Step Function")).onclick=function(){E()},l.appendChild(e))},b=function(){var e,l,m,s,c=document.createElement("form"),d=document.createElement("form");for(c.className="form-inline col-md-12 col-sm-6 mt-2",e="<div class='form-group'><label for='numClickText'>Number of requests:&nbsp</label><input type='number' class='form-control mr-sm-2' id='numClickText' name='numClick'/></div><div class='form-group'><label for='buttonsSelect'>Button(s):&nbsp</label><div class='input-group mr-sm-2'><select class='custom-select mr-sm-2' id='buttonsSelect' name='buttonNum'>",s=0;s<t.length;s+=1)e+="<option value='"+s+"'>"+t[s].firstChild.nodeValue+"</option>";P||(e+="<option selected value='"+t.length+"'>Random</option>"),c.innerHTML=e+"</select></div></div>",(a=document.createElement("button")).className="btn btn-info fire-btn ml-2",a.type="button",a.textContent="Fire!",a.onclick=u,c.appendChild(a),o.appendChild(c),n.appendChild(o),d.className="form-inline col-md-12 col-sm-6 mt-2",l="<div class='form-group'><label for='seedText'>Seed:&nbsp</label><input type='text' class='form-control mr-sm-2' id='seedText' name='seed'/></div><label id='currentSeed'><i>No seed currently set</i></label>",d.innerHTML=l,(m=document.createElement("button")).className="btn btn-info fire-btn ml-4",m.type="button",m.textContent="Set seed",m.onclick=function(){var e=i().seed;0!==e&&(Math.seedrandom(e),document.getElementById("currentSeed").innerHTML="Seed:<i>&nbsp"+e+"</i>")},d.appendChild(m),r.appendChild(d)},h=function(e,t){var n,o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),document.createEvent?((n=document.createEvent("MouseEvents")).initEvent("click",!0,!0),o.dispatchEvent(n)):o.click()},this.build=function(){m(),t=document.getElementsByClassName(S),(n=document.getElementsByClassName(M)[0]).innerHTML="",(o=document.createElement("div")).className="row",(r=document.createElement("div")).className="row",b(),n.appendChild(o),n.appendChild(r),(l=document.createElement("div")).className="row",n.appendChild(l),f()}}